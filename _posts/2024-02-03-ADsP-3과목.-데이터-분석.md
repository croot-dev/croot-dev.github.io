---
layout: post
title: "ADsP 3과목. 데이터 분석"
created: 2024-02-03
edited: 2024-04-16
category: [기술]
tags: [ADsP,자격증]
---


# 3. 데이터 분석


## 3.1. 탐색적 데이터분석 (EDA)


### 정의


데이터의 분포, 통계 등을 **시각화**하여 데이터를 이해하고 의미있는 관계를 찾아내는 분석 기법


### 결측값

- 정의 : 존재하지 않는 데이터
- 표현 방식 : NA , null , -1
- 대치 기법
	- 단순 대치 : 삭제
	- 평균 대치 : 평균, 중앙값
	- 단순확률 대치 : k-NN
	- 다중 대치법 : 여러 번 대치 시행, (대치 → 분석 → 결합)

### 이상값

- 정의 : 다른 데이터와 비교 했을 때 극단적으로 크거나 작은 값
- 판단 기법
	- ESD : 평균으로부터 표준편차 * 3
	- 사분위수 : IQR 기반

		![0](/assets/img/2024-02-03-ADsP-3과목.-데이터-분석.md/0.png)_Untitled.png_


## **3.2. 통계 분석**


### 용어 및 기초

- 기대값 : 확률변수 X가 취할 수 있는 값의 평균 값
- 공분산(Covariance) : 확률변수 X, Y의 상관 정도

	표현식: $Cov(X, Y)$

- 상관계수(Correlation) : 공분산을 X, Y의 표준편차 모두로 나눈 값

	표현식: ${r_x}_y$

- 독립사건: 서로 영향을 주지 않는 두 개의 사건
- 배반사건: 두 사건이 교집합이 없는 경우
- 확률변수: 특정확률로 발생하는 각 변수를 수치값으로 표현하는 변수
	- 연속확률변수: 구간 내 모든 값을 취하는 확률변수
	- 이산확률변수: 셀 수 있는 확률변수

### 표본추출

- 유형
	- **복원 추출** : 모집단 복원
	- **비복원 추출** : 추출 데이터 제외
- 기법 **(단계클층)**
	- **단순랜덤**
	- **계통 추출법** : K=N/n
	- **Cluster 추출법** : Cluster 내 이질적 Data
	- **층화 추출법** : cluster 내 동질적 Data, 비례(분포반영), 불비례(분포미반영)

### 측정과 척도 (명순구비)


| 구분    | 유형        | 특징                               | 예시               |
| ----- | --------- | -------------------------------- | ---------------- |
| 질적 척도 | 명목 척도     | 어느 집단에 속하는지 나타내는 자료              | 성별, 지역 등         |
|       | 순서(서열) 척도 | 명목척도 이면서 서열 관계를 갖는 자료            | 선호도, 신용도, 학년 등   |
| 양적 척도 | 구간(등간) 척도 | 속성의 양을 측정할 수 있고 구간 사이에 의미가 있는 자료 | 온도, 지수 등         |
|       | 비율 척도     | 구간척도이면서 절대기준(0)이 존재하여 연산이 가능한 자료 | 신장, 무게, 점수, 가격 등 |


### 기술통계와 추리통계 

- **기술통계** : 표본 제차의 속성이나 특징을 파악하는 데 중점을 두는 데이터 분석 통계
	- <u>모집단의 특성을 유추</u>하는데 사용 (최소값, 최댓값, 중위수 등)
- **추리통계** : 수집한 데이터를 바탕으로 추론 및 예측하는 통계 기법
	- <u>모수를 확률적으로 추정</u> (미래 사건 예측)
- **편차(difference)** : 평균과의 차이
	- $d(X)$
- **분산(variance)** : 편차 제곱하여 모두 합한 뒤 데이터 개수로 나눔.
	- $Var(X)$
- **표준편차(Standard Deviation)** : 단위를 일치 시키기 위해 분산에 루트를 씌워서 구함.
	- $sd(X) = √\overline{Var(X)}$
- **기댓값** : 확률변수 X가 취할 수 있는 값의 평균 값
	- 이산확률변수의 기댓값 : $E(X) = \Sigma xf(x)$
	- 연속확률변수의 기댓값 : $E(X) = \Sigma xf(x)dx$
- **공분산(Covariance) :** 확률변수 X, Y의 상관 정도
	- $Cov(X, Y)$
- **상관계수(Correlation)** : 공분산을 X, Y의 표준편차 모두로 나눈 값
	- ${r_x}_y$

### 확률

- **이산확률분포**
	- **베르누이 분포**

		$P(X = k) = p^k(1 - p)^{1-k}$

	- **이항 분포** : n번의 베르누이 시행 결과의 확률분포 (ex: 동전던지기)

		$P(X = k) = \binom{n}{k} p^k (1 - p)^{n - k}$

	- **기하 분포** : <u>처음 성공하기</u>까지 의 확률분포

		$P(X = k) = (1 - p)^{k-1} p$

	- **다항 분포** : 3가지 이상의 결과에 대한 확률분포 (ex: 주사위)

		$P(X_1 = x_1, X_2 = x_2, \ldots, X_k = x_k) = \frac{n!}{x_1! \cdot x_2! \cdots x_k!} p_1^{x_1} p_2^{x_2} \cdots p_k^{x_k}$

	- **포아송 분포** : 특정 시간/공간 안에 성공하는 횟수의 확률분포

		$P(X = k) = \frac{\lambda^k e^{-\lambda}}{k!}$

- **연속확률분포**
	- **균일 분포** : 모든 독립변수가 동일한 확률을 가지는 분포
	- **정규 분포** : 평균과 표준편차를 가지는 종 모양 그래프
	- **t-분포** : 평균이 0, 모평균 검정 및 집단 간 평균 비교
		- <u>모평균 검정, 집단 평균 비교 계산</u>에 이용.
	- **카이제곱 분포** : 정규분포를 따르는 확률 변수들의 제곱을 합하여 얻는 분포
		- <u>분산 추정, 독립성 검정, 적합도 검정</u> 등에 사용
	- **F 분포** : 두 모집단의 분산이 같은지를 비교하기 위한 분포
		- <u>분산분석(ANOVA)</u> 에서 사용

### 추정

- 점 추정: 모평균을 하나의 특정 값이라고 예측하는 것
- 구간 추정: 모평균을 특정 구간 안에 존재한다고 예측하는 것

### 가설검정

- **귀무가설(**$H_0$**)** : 기각하고자 하는 가설
- **대립가설(**$H_1$**)** : 증명하고자 하는 가설
- **제1종 오류** : 귀무가설이 맞지만 기각하는 오류
- **제2종 오류** : 귀무가설이 거짓이지만 채택하는 오류
- **검정통계량** : 귀무가설을 판단할 수 있는 값
- **기각역** : 귀무가설을 기각하게 될 검정통계량의 영역
- **유의수준** : 제1종오류의 최대허용한계 (보통 0.05)
- **유의확률 (p-value)** : 귀무가설 지지 확률
- **모수검정** : 표본이 정규성을 가진다는 모수적 특성을 이용하는 통계 방식
- **비모수 검정** : 모수적 특성을 이용하지 않은 통계 방식

| **구분**    | **모수 검정**     | **비모수 검정**                                    |
| --------- | ------------- | --------------------------------------------- |
| **적용 유형** | 등간척도, 비율척도    | 명목척도, 서열척도                                    |
| **검정 대상** | 평균            | 중앙값                                           |
| **상관계수**  | 피어슨 상관계수      | 스피어만 순위상관계수                                   |
| **사용예시**  | t-test, ANOVA | 부호검정, 프리드만 검정, 연속성 검정, 순위 합 검정, 크러스컬-월리스 검정 등 |


## 3.3. 비교 분석 기법


### t-test

- **단일표본(one sample)** : 하나의 모집단 평균값과 특정 값 비교
	- 단측(one way) : 모수값이 한쪽으로만 방향성을 갖는 경우 (~ 보다 크다, 작다)
	- 양측(two way) : 방향성이 없는 경우 (~이다, 아니다)
- **독립표본(independent sample)** : 서로 독립적인 두 집단의 모수값 비교
	- 단측(one way) : 두 집단 간 대소가 있는 경우 (~이 ~보다 크다, 작다)
	- 양측(two way) : 두 집단 간 대소가 없는 경우 (두 집단이 같다, 다르다)
- **대응표본(paired)** : 동일 대상의 두가지 관측치를 비교

### ANOVA(분산분석)


세 개 이상의 모집단 평균을 비교


> 💡 **정규성**, **등분산성**, **독립성**  이 세가지 가정사항을 필요로 함.

- **one-way** : 독립변수와 종속변수 모두 한 개인 경우
- **two-way** : 독립변수가 2개 이상인 경우
	- 교호작용 여부에 따라 반복실험

### 교차분석


<u>**카이제곱 검정통계량**</u>을 이용하여 <u>**범주형 자료(명목,서열)**</u> <u>간 관계 분석</u>

- **교차분석표**
- **적합도 검정:** 관측값과 예상값 일치 여부
- **독립성 검정**: 두 변수 간 관계가 독립적인지 판단
- **동질성 검정**: 정해진 범주 내에서 관측값이 비슷한지 여부

### 상관분석


변수 간 선형 관계 분석


> 💡 “두 변수는 아무 관계 없다”가 상관분석의 귀무가설 이다.

- **산점도 행렬**
- **피어슨**
	- 선형적 상관관계
	- 모수적 방법으로 등간척도, 비율척도 시 사용
- **스피어만**
	- 비선형적 상관관계
	- 비모수적 방법으로 서열척도 시 사용

| **구분**    | **피어슨**    | **스피어만**  |
| --------- | ---------- | --------- |
| **자료 형태** | 모수         | 비모수       |
| **자료 척도** | 등간척도, 비율척도 | 서열척도      |
| **결과값**   | 피어슨 상관계수   | 스피어만 상관계수 |


## **3.4. 회귀 분석 기법**


### 정의


하나 이상의 독립변수가 종속변수에게 미치는 영향을 추정하는 기법.


### 종류

- **단순 회귀** : 1개의 독립변수, 직선 관계
- **다중 회귀** : k개의 독립변수, 선형 관계
- **다항 회귀** : 4개의 독립변수, 2차함수 이상 관계
- **비선형 회귀** : 지수함수, 로그함수, 삼각함수 등

### 전제조건

- _**선형성 :**_ 독립변수와 종속변수가 선형적이여야 한다.
- _**독립성 :**_ 독립변수들 간에 상관성이 없어야 한다.
- _**등분산성 :**_ 잔차들이 고르게 분포해야한다.
- _**정규성 :**_ 잔차항이 정규분포 형태를 띄어야한다.

### 단순선형회귀분석

- 추정: 최소제곱법
- 적합성 검증: 분산분석표

![1](/assets/img/2024-02-03-ADsP-3과목.-데이터-분석.md/1.png)_Untitled.png_


모형의 유의성 검증: F 검정


회귀계수 유의성 검증: t-검정


모형 설명력 검증: 분산분석 후 결정계수


### 다중선형회귀분석


다중공선성: 독립변수 간 강한 상관관계

- 진단
	- 회귀식의 설명력 높지만 각 독립변수 p-value 큰 경우
	- 분산팽창요인(VIF)가 10 이상 인 경우
- 해결
	- 문제변수 제거
	- 차원축소(PCA, LDA, t-SNE, SVD)
	- 주성분개수 선택 (scree plot 이용)

### 최적 회귀방정식


정의:


모델 성능향상을 위해 종속변수에 유의미한 영향을 끼치는 독립변수를 선택하는 과정


변수 선택법

- 작동원리 분류: 임베디드, Wrapper, Filter
- 유형
	- 부분집합법: 모든 가능한 모델 고려
	- 단계적 변수선택법: 일정 단계 거쳐서 도출
		- 전진선택법, 후진제거법, 단계별방법
	- 성능지표
		- AIC, BIC
		- 멜로우 Cp

### 고급회귀분석


정규화 회귀분석

- overfitting, underfitting
- 정규화 선형회귀
	- Lasso (L1규제)
	- Lidge (L2규제)
	- Elastic Net

일반화 선형회귀


구성: 확률요소, 선형예측자, 연결함수


유형: 로지스틱, 포아송


더빗 왓슨 검정


평가지표


![2](/assets/img/2024-02-03-ADsP-3과목.-데이터-분석.md/2.png)_Untitled.png_






## 3.5. 다변량 분석 기법


다차원 척도법


측도: stress 척도(0~0.05=적합도 좋음, 0.15~1=적합도 나쁨)


종류


| 계량적 MDS   | 비계량적 MDS   |
| --------- | ---------- |
| 구간척도,비율척도 | 서열척도       |
| 유클라디안     | 서열 → 거리 속성 |
| Cmdscale  | isoMDS     |


### 주성분분석


변수를 축소하여 모델 설명력을 높임.


분산이 큰 축을 이용하기 때문에 다중공선성 문제 해결


분석방식: 계량적MDS, scree plot, biplot


## 3.6. 시계열분석


### 정의


일정 시간 간격으로 기록된 자료들의 특성을 파악하여 미래를 예측하는 분석방법


### 정상성

- 일정하지 않은 평균 ⇒ 차분 이용

	차분: 현시점 자료값에서 이전시점 자료 값을 빼는것

- 일정하지않은 분산 ⇒ 변환 이용
- 시차에만 의존하는 공분산

### 정상 시계열


평균이 일정 모든시점에 일정함


정상 시계열은 항상 평균값으로 회귀하려함, 평균값 주면 변동은 일정폭을 갖음


### 분해(비정상) 시계열

- 추세
- 주기
- 계절성
- 랜덤(불규칙)

### 분석기법

- 이동평균법
- 지수평활법(이동평균법 + 가중치)

### 모형

- **자기회귀(AR)** : 이전시점 자료 선형 결합
- **이동평균(MA)** : 이전시점 백색잡음 선형 결합
- **자기회귀누적이동 평균(ARIMA)** : 비정상 시계열 자료 모형.

## **3.7. 데이터마이닝**


### 정의


방대한 양의 데이터 속에 숨겨진 패턴, 규칙 등을 찾아 예측, 의사결정 지원에 활용하는 기술


### 데이터마이닝 vs 통계분석


| 구분    | 데이터 마이닝 | 통계분석 |
| ----- | ------- | ---- |
| 표본    | 불필요     | 필요   |
| 가설 검정 | 선택적     | 필수적  |
| 분석유형  | 상향식     | 하향식  |


### 방식 별 분류

- 지도학습
	- 회귀(연속형): Linear regression, 의사결정트리, SVR, 신경망, Ridge, Lasso
	- 분류(범주형): Logistic Regression, 의사결정트리, K-NN, 앙상블, SVM, 나이브 베이즈 분류
- 비지도학습
	- 군집, 연관: k-means, SOM, DBSCAN, Apriori
	- 차원축소: PCA, LDA, SVD, MDS
- 목적 별 분류
	- 분류
	- 군집
	- 연관
- 프로세스

	목적정의 → 데이터준비 → 데이터가공 → 데이터마이닝 기법적용 → 검증

- 데이터 분할 유형
	- 훈련(5):검증(3):평가(2)
	- 훈련(6):검증(2):평가(2)
- 검증 기법
	- Holdout: 전체데이터 → 학습(80), 검증(20)
	- K-fold cross: k개 집단, 과적합(과소적합)예방
	- LOOCV:
	- Bootstrap: 복원추출
	- 계층별 k-fold cross

### **분류분석**


로지스틱 회귀 분석

- 변수: 2개집단 = 기본, 3개 이상 = 다중 로지스틱
- 알고리즘: Odds, logit 변환, 시그모이드

의사결정나무

- 특징 : 집단 내 동질성↑, 집단 간 이질성↑
- 구성요소: root node, mid node, leaf node, depth, branch
- 활용: 세분화, 분류, 예측, 차원축소, 교호작용
- 장점: 직관적, 정규화 불필요, 이상값
- 단점: 과적합 발생, 경계선 오차
- 분석과정: 성장(분리기준, 정리규칙) → 가지치기 → 타당성평가 → 해석 및 예측
- 분리기준:
	- 이산형 : 카이제곱(CHAID), 지니지수(CART),엔트로피 지수 (C4.5)
	- 연속형: ANOVA-F 통계량(CHAID), 분산감소량(CART)

### 앙상블

- 종류:
	- 배깅: 복원추출(부트스트랩) → 분류기 → voting
	- 부스팅: 복원추출(부트스트랩) → weight 적용추출(부트스트랩)
	- 랜덤포레스트: 복원추출(부트스트랩) → 비복원추출(표본) → 분류기 → voting

### 인공신경망

- 유형: 단층, 다층
- 활성함수: step, sign, sigmoid, tanh, RELU, softmax
- 알고리즘: 순방향, 역전파
- 구조유형: RNN, CNN, LSTM, GRU, YOLO, GAN

### 나이브베이즈

- 베이즈 이론: 사전확률과 우도확률을 통해 사후확률을 추정
- 활용: 스팸메일 필터링, 텍스트분류

### K-NN


### SVM

- 구성: hyper plane, margin

### 성과평가

- 혼동행렬(오분류표): 정확도, 오분류율, 민감도(재현율), 특이도, 정밀도, F1-Score, FRR
- ROC curve: FRR-TPR 그래프, AUROC
- 이익도표(Lift chart)
- 향상도 곡선(Lift curve)

### **군집분석**


거리측도

- 연속형: 유클리디안, 맨하튼, 체비셰프, 표준화, 마할라노비스, 민코프스키
- 범주형: 단순일치계수, 자카드 거리, 코사인 유사도, 순위상관계수

분류

- 계층적 군집분석
	- 유형: 병합적, 분할적
	- 거리측정: 단일연결, 완전연결, 평균연결, 중심연결, 와드연결
- 비계층적 군집분석
	- K-means: K개의 seed 설정 → 데이터 seed 할당 → 중앙값계산 → seed 재설정 → 군집 재할당
	- DBSCAN

혼합분포 군집

- 개념: 확률분포에서 추출된 데이터끼리 군집화
- EM 알고리즘: 파라미터(모수) 설정 → Z기대값계산 → 새로운 파라미터 추정 → 반복 및 종료
- 자기조직화지도(SOM)
	- 구성: 입력층, 경쟁층, fully connected, BMU, 승자노드.
	- 과정:
	- 장점: 순전파만 이용 빠름, 시각적 이해용이, 데이터 속성 보존
	- 단점: 초기 설정 영향도 높음, 경쟁층 노드 수 선정 어려움

평가

- 외부평가: 자카드 계수평가, 혼동행렬, ROC curve
- 내부평가: 단순계산법, 거리 측도 이용, 실루엣 계수, 엘보 메소드

### **연관분석**


측도: 지지도, 신뢰도, 향상도


알고리즘

- apriori: 지지도 이용 계산 복잡도 감소
- FP-Growth: 지지도 이용 상향식 알고리즘

특징

- 장점: 계산 및 결과 단순
- 세분화 어려움, 초기 데이터 필요
- 순차패턴: 연관분석 + 시간
